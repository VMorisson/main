<div id="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-title">
      <h2>Listing Parc</h2>
      <button id="toggle-sidebar-btn">‚è¥</button>
    </div>
    <div id="search-container">
      <button id="search-toggle-btn">Rechercher</button>
      <div id="search-bar" style="display: none;">
        <input id="search-input" placeholder="Rechercher...">
      </div>
    </div>
    <div class="search-divider"></div>
  </div>

  <div id="parc-content"></div>
</div>


<!-- Barre visible lorsqu'elle est rabattue -->
<div id="collapsed-sidebar">
  <div id="sidebar-label"></div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    console.log("‚úÖ Script charg√© et pr√™t.");

    const sidebar = document.getElementById("sidebar");
    const collapsedSidebar = document.getElementById("collapsed-sidebar");
    const toggleButton = document.getElementById("toggle-sidebar-btn");
    const content = document.querySelector(".content");

    if (!sidebar || !collapsedSidebar || !toggleButton || !content) {
      console.error("‚ùå Un des √©l√©ments n√©cessaires n'a pas √©t√© trouv√© !");
      return;
    }

    console.log("‚úÖ √âl√©ments trouv√©s :", { sidebar, collapsedSidebar, toggleButton, content });

    // ‚ö†Ô∏è Assurer que la barre grise est cach√©e au chargement
    collapsedSidebar.style.display = "none";

    // Fonction pour afficher les classes actuelles
    function logClasses() {
      console.log("üìå Classes actuelles:");
      console.log("- sidebar:", sidebar.classList);
      console.log("- collapsed-sidebar:", collapsedSidebar.classList);
      console.log("- content:", content.classList);
    }

    // Rabattre la sidebar
    toggleButton.addEventListener("click", function () {
      console.log("‚ñ∂Ô∏è Bouton de repli cliqu√© !");
      
      sidebar.classList.add("collapsed");
      collapsedSidebar.style.display = "flex"; // Affiche la barre grise
      content.classList.add("sidebar-collapsed");

      logClasses();
      console.log("‚úÖ Sidebar rabattue.");
    });

    // Red√©ployer la sidebar
    collapsedSidebar.addEventListener("click", function () {
      console.log("‚ñ∂Ô∏è Barre r√©duite cliqu√©e !");
      
      sidebar.classList.remove("collapsed");
      collapsedSidebar.style.display = "none"; // Cache la barre grise
      content.classList.remove("sidebar-collapsed");

      logClasses();
      console.log("‚úÖ Sidebar r√©ouverte.");
    });

    // V√©rifier les classes apr√®s chargement
    logClasses();
  });
</script>
