<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Protégé</title>
  <link rel="stylesheet" href="../styles.css">
  <script type="importmap">
    {
      "imports": {
        "firebase/app":       "/node_modules/firebase/app/dist/index.esm.js",
        "firebase/auth":      "/node_modules/firebase/auth/dist/index.esm.js",
        "firebase/firestore": "/node_modules/firebase/firestore/dist/index.esm.js"
      }
    }
    </script>
    <!-- Polyfill pour navigateurs plus anciens (10 kB) -->
    <script async src="https://unpkg.com/es-module-shims@1.10.0/dist/es-module-shims.min.js"></script>
</head>
<body>
  <!-- Emplacement pour le header commun -->
  <div id="header-placeholder"></div>

  <!-- Zone de contenu -->
  <main class="content">
    <h1 class="page-title">Dashboard Protégé</h1>
    <p class="page-text">Texte lambda pour l'instant... <br> PARC MATERIEL <br> PROFIL</p>
  </main>

  <script type="module">
    import { auth } from "../config/firebaseConfig.js";
    import { onAuthStateChanged } from "firebase/auth";
    import { initInactivityLogout } from "../config/inactivityLogout.js";
    import { loadHeader } from "../config/loadHeader.js";

    loadHeader();
    onAuthStateChanged(auth, (user) => {
      if (!user) {
        window.location.href = "../index.html";
      } else {

      }
    });

    initInactivityLogout(600000);
  </script>
</body>
</html>
